{%extends 'base.html'%}
{%block content%}
    <div class="container rounded shadow-lg bg-secondary my-4 p-4">
        <div class="form-group">
            <h1 class="text-center text-light">Change Password</h1>
            <form method="post" id="changepass">
                {% csrf_token %}
                {{ form.as_p }}
                <!--<label for="username">Username</label>
                <input type="text" id="username" name="username" required>
                <label for="password">Password</label>
                <input type="password" id="password" name="password" required>-->
                <button type="submit" class="btn btn-lg btn-success">Submit</button>
            </form>
        </div>
    </div>
    <!-- End: Login Form Clean -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script>
        var frm = $('#changepass');
        frm.submit(function () {
            $.ajax({
                type: frm.attr('method'),
                url: frm.attr('action'),
                data: frm.serialize(),
                success: function(data) {
                    if(data=="Success")
                    { 
                      alert("Password changed succesfully");
                      window.location.replace("{% url 'login' %}");
                    }
                    else
                    {
                      alert(data);
                    }
                }
            });
            return false;
        });
    </script>
{%endblock%}